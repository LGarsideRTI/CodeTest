<div style="padding-left: 5em;">
<h1>Space X Launches</h1>
<p>Click cell text to nagivate to presskit</p>
</div>
<!-- <div class="launches">
    <p *ngFor="let launch of launches">{{launch.links?.presskit | json}}</p> 
</div> -->
<div class="sample-wrapper">
    <div class="grid_wrapper">
        <igx-grid #grid1 style="margin-left: 5em;
        margin-right:  2em;" 
        height="800px" 
        width="90%" [data]="launches" [paging]="true" [perPage]="12" displayDensity="comfortable"  
        [allowFiltering]="true" [filterMode]="'excelStyleFilter'" [allowAdvancedFiltering]="true" cellSelection="none" [rowSelection]="'single'" [hideRowSelectors]="true">
        
        <igx-column header ="Flight Number" field="flight_number" [sortable]="true" [filterable]="false" [resizable] = "true" width="20%">
            <ng-template igxCell let-cell="cell">
                <div class="cell__inner">
                    <a (click)='openLink(cell.row.rowData.links?.presskit)'>
                    <span><strong>Flight Number: </strong></span>{{cell.row.rowData.flight_number}}
                    <div *ngIf="!(cell.row.rowData.links?.presskit)" class="presskit-error">No presskit available for this launch!</div>
                    </a>
                </div>
            </ng-template>
        </igx-column>
        <igx-column field="Launch Year" field="year" width="20%" [dataType]="'date'" [resizable] = "true" [sortable]="false" [filterable]="false">
            <ng-template igxCell let-cell="cell">
                <div class="cell__inner">
                    <a (click)='openLink(cell.row.rowData.links?.presskit)'>
                    <span><strong>Launch Year: </strong></span>{{cell.row.rowData.date_utc | date: 'yyyy'}}</a>
                </div>
            </ng-template>
        </igx-column>
        <igx-column header ="Rocket Name" field="name" width="20%" [resizable] = "true" [sortable]="true" [filterable]="false">
            <ng-template igxCell let-cell="cell">
                <div class="cell__inner">
                    <a (click)='openLink(cell.row.rowData.links?.presskit)'>
                    <span><strong>Rocket Name: </strong></span>{{cell.row.rowData.name}}</a>
                </div>
            </ng-template>
        </igx-column>
        <igx-column header ="Details" field="details" width="40%" [resizable] = "true" [sortable]="true" [filterable]="false" class="igx-grid__tdspan">
            <ng-template igxCell let-cell="cell">
                <div class="cell__inner">
                    <a (click)='openLink(cell.row.rowData.links?.presskit)'>
                    <span><strong>Details: </strong></span>{{cell.row.rowData.details}}</a>
                </div>
            </ng-template>
        </igx-column>
    </igx-grid>
    </div>
</div>
<presskit-modal></presskit-modal>

<ng-template #noPresskit let-modal>
    <div class='container_8 content' style='padding: 5px 10px 10px 10px !important; margin-top:5px;'>
        <table>
            <tr>
                <td style='vertical-align:top;'>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-diamond-fill" viewBox="0 0 16 16">
                        <path d="M9.05.435c-.58-.58-1.52-.58-2.1 0L.436 6.95c-.58.58-.58 1.519 0 2.098l6.516 6.516c.58.58 1.519.58 2.098 0l6.516-6.516c.58-.58.58-1.519 0-2.098L9.05.435zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                      </svg> <span style='margin:10px 10px 10px 0px;'> Sorry!</span>
                </td>
            </tr>
            <tr>
            <td style='vertical-align:top;'>
                <p><span class='label label-default'>There's no presskit for the selected launch</span></p>
                </td>
            </tr>
        </table>
        <div style='text-align:right;'><button type='button' class='btn btn-primary' data-dismiss='modal' (click)="close()">Close</button></div>
    </div>
</ng-template>